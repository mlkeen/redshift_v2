
{% extends "base.html" %}

{% block content %}
<h1>Trigger Fusion Failures</h1>

<form method="POST">
  <div>
    <label for="fail_type">Failure Type:</label>
    <select name="fail_type" id="fail_type" required>
      <option value="thermal">Thermal Containment</option>
      <option value="magnetic">Magnetic Confinement</option>
    </select>
  </div>

  <div>
    <label for="seconds">Trigger in how many seconds?</label>
    <input type="number" name="seconds" id="seconds" min="1" value="30" required>
  </div>

  <button type="submit">Trigger Failure</button>
</form>

{% if game_state %}
  <hr>
  <h3>Current Failure Timers</h3>
  <ul>
    <li>Thermal: 
      {% if game_state.thermal_fail_time %}
        {{ game_state.thermal_fail_time.strftime("%Y-%m-%d %H:%M:%S") }} UTC
      {% else %}
        No failure pending
      {% endif %}
    </li>
    <li>Magnetic: 
      {% if game_state.magnetic_fail_time %}
        {{ game_state.magnetic_fail_time.strftime("%Y-%m-%d %H:%M:%S") }} UTC
      {% else %}
        No failure pending
      {% endif %}
    </li>
  </ul>
{% endif %}

{% endblock %}
